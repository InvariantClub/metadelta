{"sources":[{"configuration":{"connection_info":{"database_url":{"from_env":"HASURA_GRAPHQL_DATABASE_URL"},"isolation_level":"read-committed","pool_settings":{"connection_lifetime":600,"idle_timeout":180,"max_connections":50,"retries":10},"use_prepared_statements":true}},"kind":"postgres","name":"default","tables":[{"delete_permissions":[{"permission":{"backend_only":false,"filter":{"subscriber_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"insert_permissions":[{"permission":{"check":{"_exists":{"_table":{"name":"users","schema":"public"},"_where":{"id":{"_eq":"X-Hasura-User-Id"}}}},"columns":["channel_id"],"set":{"channel_id":"x-hasura-User-Id"}},"role":"user"}],"object_relationships":[{"name":"channel","using":{"foreign_key_constraint_on":"channel_id"}},{"name":"subscriber","using":{"foreign_key_constraint_on":"subscriber_id"}}],"select_permissions":[{"permission":{"columns":["channel_id","subscriber_id"],"filter":{"subscriber_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"table":{"name":"channel_subscriptions","schema":"public"}},{"insert_permissions":[{"permission":{"check":{"_exists":{"_table":{"name":"users","schema":"public"},"_where":{"id":{"_eq":"X-Hasura-User-Id"}}}},"columns":["reaction","video_id"],"set":{"user_id":"x-hasura-User-Id"}},"role":"user"}],"object_relationships":[{"name":"user","using":{"foreign_key_constraint_on":"user_id"}},{"name":"video","using":{"foreign_key_constraint_on":"video_id"}}],"select_permissions":[{"permission":{"allow_aggregations":true,"columns":["reaction","video_id"],"filter":{"user_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"table":{"name":"feelings","schema":"public"},"update_permissions":[{"permission":{"check":{},"columns":["reaction"],"filter":{"user_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}]},{"array_relationships":[{"name":"play_lists","using":{"foreign_key_constraint_on":{"column":"play_list_names_id","table":{"name":"play_lists","schema":"public"}}}}],"delete_permissions":[{"permission":{"backend_only":false,"filter":{"user_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"insert_permissions":[{"permission":{"check":{"_exists":{"_table":{"name":"users","schema":"public"},"_where":{"id":{"_eq":"X-Hasura-User-Id"}}}},"columns":["name","user_id"],"set":{"user_id":"x-hasura-User-Id"}},"role":"user"}],"object_relationships":[{"name":"user","using":{"foreign_key_constraint_on":"user_id"}}],"select_permissions":[{"permission":{"columns":["name","video_count"],"filter":{}},"role":"user"}],"table":{"name":"play_list_names","schema":"public"}},{"object_relationships":[{"name":"play_list_name","using":{"foreign_key_constraint_on":"play_list_names_id"}},{"name":"video","using":{"foreign_key_constraint_on":"video_id"}}],"table":{"name":"play_lists","schema":"public"}},{"array_relationships":[{"name":"feelings","using":{"foreign_key_constraint_on":{"column":"user_id","table":{"name":"feelings","schema":"public"}}}},{"name":"play_list_names","using":{"foreign_key_constraint_on":{"column":"user_id","table":{"name":"play_list_names","schema":"public"}}}},{"name":"subscribed_channels","using":{"foreign_key_constraint_on":{"column":"channel_id","table":{"name":"channel_subscriptions","schema":"public"}}}},{"name":"subscribers","using":{"foreign_key_constraint_on":{"column":"subscriber_id","table":{"name":"channel_subscriptions","schema":"public"}}}},{"name":"videos","using":{"foreign_key_constraint_on":{"column":"channel_id","table":{"name":"videos","schema":"public"}}}},{"name":"watch_histories","using":{"foreign_key_constraint_on":{"column":"user_id","table":{"name":"watch_history","schema":"public"}}}}],"event_triggers":[{"definition":{"enable_manual":false,"insert":{"columns":"*"}},"headers":[{"name":"nestjs-event-webhook","value_from_env":"NESTJS_EVENT_WEBHOOK_SHARED_SECRET"}],"name":"user-created","retry_conf":{"interval_sec":30,"num_retries":3,"timeout_sec":100},"webhook_from_env":"NESTJS_EVENT_WEBHOOK_ENDPOINT"}],"select_permissions":[{"permission":{"columns":["channel_name","created_at","description","email","id","name","phone"],"filter":{"id":{"_eq":"X-Hasura-User-Id"}},"limit":1},"role":"user"}],"table":{"name":"users","schema":"public"},"update_permissions":[{"permission":{"check":null,"columns":["channel_name","description","name","phone"],"filter":{"id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}]},{"array_relationships":[{"name":"feelings","using":{"foreign_key_constraint_on":{"column":"video_id","table":{"name":"feelings","schema":"public"}}}},{"name":"play_lists","using":{"foreign_key_constraint_on":{"column":"video_id","table":{"name":"play_lists","schema":"public"}}}},{"name":"watch_histories","using":{"foreign_key_constraint_on":{"column":"video_id","table":{"name":"watch_history","schema":"public"}}}}],"delete_permissions":[{"permission":{"backend_only":false,"filter":{"channel_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"insert_permissions":[{"permission":{"check":{"_exists":{"_table":{"name":"users","schema":"public"},"_where":{"id":{"_eq":"X-Hasura-User-Id"}}}},"columns":["description","is_private","title"],"set":{"channel_id":"x-hasura-User-Id"}},"role":"user"}],"object_relationships":[{"name":"user","using":{"foreign_key_constraint_on":"channel_id"}}],"select_permissions":[{"permission":{"columns":["is_private","stream_url","thumbnail","title","duration","dislikes_count","likes_count","views_count","description","created_at","updated_at","category","channel_id","id"],"filter":{}},"role":"user"}],"table":{"name":"videos","schema":"public"},"update_permissions":[{"permission":{"check":{},"columns":["description","is_private","title"],"filter":{"channel_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}]},{"delete_permissions":[{"permission":{"backend_only":false,"filter":{"user_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"insert_permissions":[{"permission":{"check":{"_exists":{"_table":{"name":"users","schema":"public"},"_where":{"id":{"_eq":"X-Hasura-User-Id"}}}},"columns":["video_id","user_id","last_watched_at","created_at"]},"role":"user"}],"object_relationships":[{"name":"user","using":{"foreign_key_constraint_on":"user_id"}},{"name":"video","using":{"foreign_key_constraint_on":"video_id"}}],"select_permissions":[{"permission":{"columns":["created_at","last_watched_at","user_id","video_id"],"filter":{"user_id":{"_eq":"X-Hasura-User-Id"}}},"role":"user"}],"table":{"name":"watch_history","schema":"public"}}]}],"version":3}
